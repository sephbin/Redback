import sys
sys.path.append("..") # Adds higher directory to python modules path.
import pySVGMaker as svg
import json

archiJSON = '''
{"features": [{"properties": {"class": null}, "type": "Feature", "geometry": {"deg": 1, "coordinates": [[-12.902988083333298, 40.814077333333287, 0.0], [-17.133060104817673, 40.434967632812459, 0.0], [-21.434970505208298, 39.822215354166623, 0.0], [-25.773135788411420, 38.989248231770787, 0.0], [-30.111972458333295, 37.949493999999959, 0.0], [-38.649325973958298, 35.303335145833287, 0.0], [-46.762363083333298, 31.991160666666623, 0.0], [-50.570804245442673, 30.118886903645787, 0.0], [-54.166415817708298, 28.120392437499955, 0.0], [-57.513614304036423, 26.009105002604123, 0.0], [-60.576816208333298, 23.798452333333287, 0.0], [-63.320438034505173, 21.501862164062455, 0.0], [-65.708896286458298, 19.132762229166623, 0.0], [-67.706607468098923, 16.704580263020787, 0.0], [-69.277988083333298, 14.230743999999955, 0.0], [-70.396630254557252, 11.724606575954816, 0.0], [-71.072828578124955, 9.1992227326388427, 0.0], [-71.326053268880173, 6.6675726132812034, 0.0], [-71.175774541666641, 4.1426363611110641, 0.0], [-70.641462611328109, 1.6373941193575914, 0.0], [-69.742587692708312, -0.83517396875004779, 0.0], [-68.498620000651016, -3.2620877599826867, 0.0], [-66.929029749999970, -5.6303671111111600, 0.0], [-65.053287155598923, -7.9270318789062992, 0.0], [-62.890862432291627, -10.139101920138939, 0.0], [-60.461225794921845, -12.253597091579913, 0.0], [-57.783847458333298, -14.257537250000052, 0.0], [-54.878197637369759, -16.137942252170191, 0.0], [-51.763746546874970, -17.881831954861163, 0.0], [-48.459964401692680, -19.476226214843802, 0.0], [-44.986321416666641, -20.908144888888941, 0.0], [-37.609720939236084, -23.269934168402830, 0.0], [-29.801642597222198, -25.049854958333384, 0.0], [-21.732171026041645, -26.367861685763941, 0.0], [-13.571390861111089, -27.343908777777827, 0.0], [2.3437567083333564, -28.749941763888934, 0.0], [16.583123027777805, -30.227589333333373, 0.0], [36.692498027777823, -33.894256000000027, 0.0], [40.023471335069488, -34.005258604166698, 0.0], [41.452965557074705, -33.806975726562527, 0.0], [42.729607402777830, -33.407276833333356, 0.0], [43.856753805772620, -32.781992002604191, 0.0], [44.837761699652830, -31.906951312500027, 0.0], [45.675988018012205, -30.757984841145863, 0.0], [46.374789694444502, -29.310922666666695, 0.0], [46.936516582465330, -27.550583989366345, 0.0], [47.359490215277830, -25.497744498263913, 0.0], [47.778435527777830, -20.633622319444470, 0.0], [47.610141256944488, -14.956674619791690, 0.0], [46.833123027777816, -8.7050198888889128, 0.0], [45.425896465277809, -2.1167766163194703, 0.0], [43.366977194444466, 4.5699367083333051, 0.0], [40.634880840277795, 11.117001595486080, 0.0], [39.009677389756959, 14.263753847005177, 0.0], [37.208123027777788, 17.286299555555523, 0.0], [35.228725783854181, 20.158864930989552, 0.0], [33.074767993055573, 22.871640267361080, 0.0], [30.750725566840291, 25.418806879774273, 0.0], [28.261074416666681, 27.794546083333302, 0.0], [25.610290453993073, 29.993039193142330, 0.0], [22.802849590277795, 32.008467524305523, 0.0], [19.843227736979181, 33.835012391927052, 0.0], [16.735900805555573, 35.466855111111073, 0.0], [13.485344707465298, 36.898176996961766, 0.0], [10.096035354166688, 38.123159364583294, 0.0], [6.5724486571180769, 39.135983529079823, 0.0], [2.9190605277778006, 39.930830805555516, 0.0], [-0.85965312239580927, 40.501882509114544, 0.0], [-4.7592163819444195, 40.843319954861073, 0.0], [-8.7751533394096946, 40.949324457899266, 0.0]], "type": "Spline", "closed": true}}], "type": "FeatureCollection"}
'''


archiJSON = json.loads(archiJSON)
layout = '''{"page": [420, 297], "scale": 1.0, "plane": [[-210.0, 148.5, 0.0], [1.0, 0.0, 0.0], [0.0, 1.0, 0.0]]}'''
css = '''*{fill:Magenta;}'''

outTest = svg.archiJsonToSVG(archiJSON,layout,css)